(()=>{"use strict";var e={2651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e&&(chrome.storage.sync.get({color:e}),chrome.contextMenus.update(e,{checked:!0}))}},859:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,u)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(5791));t.default=function(e,t,n){return r(this,void 0,void 0,(function*(){const r=yield(0,i.default)(),o=r.find((t=>t.title===e));o.color=t,o.textColor=n,n||delete o.textColor,chrome.storage.sync.set({colors:r})}))}},5791:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(4530);t.default=function(){return new Promise((e=>{chrome.storage.sync.get({colors:r.DEFAULT_COLORS},(({colors:t})=>e(t)))}))}},6115:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,u)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(5791)),c=n(4530);t.default=function(){var e;return r(this,void 0,void 0,(function*(){const{color:t}=yield chrome.storage.sync.get("color"),n=t||c.DEFAULT_COLOR_TITLE,r=yield(0,i.default)();return null!==(e=r.find((e=>e.title===n)))&&void 0!==e?e:r[0]}))}},6167:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5581);t.default=function(){return(0,r.executeInCurrentTab)({func:function(){const e=window.highterAPI.hights.getAllFound();return e?Array.from(e,(([e,t])=>({hightIndex:e,hightText:t.hightText,hightLevel:t.hightLevel}))):null}})}},1097:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5581);t.default=function(){return(0,r.executeInCurrentTab)({func:function(){const e=[];return window.highterAPI.hights.getAllLost().forEach(((t,n)=>e.push({string:null==t?void 0:t.string,index:n}))),e}})}},2906:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,u)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(6115)),c=n(5581);t.default=function(){return r(this,void 0,void 0,(function*(){const e=yield(0,i.default)();(0,c.executeInCurrentTab)({func:function(e){window.highterAPI.hight.create(e)},args:[e]})}))}},1170:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toggleHighterCursor=t.loadPageHights=t.getColorOptions=t.getCurrentColor=t.editColor=t.changeColor=t.getLostHights=t.getHights=t.showHight=t.removeHights=t.removeHight=t.hightText=void 0;var o=n(2906);Object.defineProperty(t,"hightText",{enumerable:!0,get:function(){return r(o).default}});var i=n(2703);Object.defineProperty(t,"removeHight",{enumerable:!0,get:function(){return r(i).default}});var c=n(1192);Object.defineProperty(t,"removeHights",{enumerable:!0,get:function(){return r(c).default}});var u=n(576);Object.defineProperty(t,"showHight",{enumerable:!0,get:function(){return r(u).default}});var a=n(6167);Object.defineProperty(t,"getHights",{enumerable:!0,get:function(){return r(a).default}});var l=n(1097);Object.defineProperty(t,"getLostHights",{enumerable:!0,get:function(){return r(l).default}});var s=n(2651);Object.defineProperty(t,"changeColor",{enumerable:!0,get:function(){return r(s).default}});var h=n(859);Object.defineProperty(t,"editColor",{enumerable:!0,get:function(){return r(h).default}});var d=n(6115);Object.defineProperty(t,"getCurrentColor",{enumerable:!0,get:function(){return r(d).default}});var f=n(5791);Object.defineProperty(t,"getColorOptions",{enumerable:!0,get:function(){return r(f).default}});var g=n(6807);Object.defineProperty(t,"loadPageHights",{enumerable:!0,get:function(){return r(g).default}});var v=n(3017);Object.defineProperty(t,"toggleHighterCursor",{enumerable:!0,get:function(){return r(v).default}})},6807:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5581);t.default=function(e){(0,r.executeInTab)(e,{func:function(){"function"==typeof window.highterAPI.hights.loadAll&&window.highterAPI.hights.loadAll()}})}},2703:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5581);t.default=function(e){(0,r.executeInCurrentTab)({func:function(e){window.highterAPI.hight.removeLost(e)},args:[e]})}},1192:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5581);t.default=function(){(0,r.executeInCurrentTab)({func:function(){window.highterAPI.hights.deleteAll()}})}},576:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5581);t.default=function(e){(0,r.executeInCurrentTab)({func:function(e){window.highterAPI.hight.show(e)},args:[e]})}},3017:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const r=n(5581);t.default=function(){(0,r.executeInCurrentTab)({func:function(){window.highterAPI.highterCursor.toogle()}})}},4985:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),(0,r(n(4901)).default)()},4901:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,u)}a((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1170),i=n(5581);t.default=function(){!function(){chrome.runtime.onInstalled.addListener((()=>r(this,void 0,void 0,(function*(){chrome.contextMenus.removeAll(),chrome.contextMenus.create({title:"Hight",id:"hight",contexts:["selection"]}),chrome.contextMenus.create({title:"Hight color",id:"hight-colors"}),chrome.contextMenus.create({title:"Yellow",id:"yellow",parentId:"hight-colors",type:"radio"}),chrome.contextMenus.create({title:"Blue",id:"blue",parentId:"hight-colors",type:"radio"}),chrome.contextMenus.create({title:"Green",id:"green",parentId:"hight-colors",type:"radio"}),chrome.contextMenus.create({title:"Pink",id:"pink",parentId:"hight-colors",type:"radio"}),chrome.contextMenus.create({title:"Dark",id:"dark",parentId:"hight-colors",type:"radio"});const{title:e}=yield(0,o.getCurrentColor)();chrome.contextMenus.update(e,{checked:!0})}))))}(),chrome.contextMenus.onClicked.addListener((({menuItemId:e,parentMenuItemId:t})=>{if("hight-color"!==t)switch(e){case"hight":(0,o.hightText)();break;case"toggle-cursor":(0,o.toggleHighterCursor)()}else(0,o.changeColor)(String(e))})),chrome.runtime.onInstalled.addListener((()=>{})),chrome.runtime.onStartup.addListener((()=>{})),chrome.tabs.onUpdated.addListener(((e,t)=>{t.url&&(0,o.loadPageHights)(e)})),chrome.commands.onCommand.addListener((e=>{switch(e){case"execute-hight":(0,o.hightText)();break;case"toggle-highter-cursor":(0,o.toggleHighterCursor)();break;case"change-color-to-yellow":(0,o.changeColor)("yellow");break;case"change-color-to-cyan":(0,o.changeColor)("cyan");break;case"change-color-to-lime":(0,o.changeColor)("lime");break;case"change-color-to-magenta":(0,o.changeColor)("magenta");break;case"change-color-to-dark":(0,o.changeColor)("dark")}})),chrome.runtime.onMessage.addListener(((e,t,n)=>{if(e.action)switch(e.action){case"hight":return void(0,o.hightText)();case"track-event":return;case"remove-hights":return void(0,o.removeHights)();case"remove-hight":return void(0,o.removeHight)(e.hightId);case"change-color":return void(0,o.changeColor)(e.color);case"edit-color":return void(0,o.editColor)(e.colorTitle,e.color,e.textColor);case"toggle-highter-cursor":(0,o.toggleHighterCursor)();case"get-hights":return(0,i.wrapResponse)((0,o.getHights)(),n),!0;case"get-lost-hights":return(0,i.wrapResponse)((0,o.getLostHights)(),n),!0;case"show-hight":return(0,o.showHight)(e.hightId);case"get-current-color":return(0,i.wrapResponse)((0,o.getCurrentColor)(),n),!0;case"get-color-options":return(0,i.wrapResponse)((0,o.getColorOptions)(),n),!0}}))}},4530:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_COLORS=t.DEFAULT_COLOR_TITLE=void 0,t.DEFAULT_COLOR_TITLE="yellow",t.DEFAULT_COLORS=[{title:"yellow",color:"rgb(255, 246, 21)"},{title:"green",color:"rgb(68, 255, 147)"},{title:"blue",color:"rgb(66, 229, 255)"},{title:"pink",color:"rgb(244, 151, 255)"},{title:"dark",color:"rgb(52, 73, 94)",textColor:"rgb(255, 255, 255)"}]},5581:function(e,t){var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function c(e){try{a(r.next(e))}catch(e){i(e)}}function u(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,u)}a((r=r.apply(e,t||[])).next())}))};function r(e,{file:t,func:r,args:o}){return n(this,void 0,void 0,(function*(){const n=yield chrome.scripting.executeScript(Object.assign(Object.assign({target:{tabId:e,allFrames:!0}},t&&{files:[t]}),{func:r,args:o}));return 1===n.length?n[0].result:n.flatMap((e=>e.result))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.wrapResponse=t.executeInTab=t.executeInCurrentTab=void 0,t.executeInCurrentTab=function({file:e,func:t,args:o}){return n(this,void 0,void 0,(function*(){return r((yield function(){return n(this,void 0,void 0,(function*(){const[e]=yield chrome.tabs.query({active:!0,lastFocusedWindow:!0});return e}))}()).id,{file:e,func:t,args:o})}))},t.executeInTab=r,t.wrapResponse=function(e,t){e.then((e=>t({success:!0,response:e}))).catch((e=>t({success:!1,error:e.message})))}}},t={};!function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(4985)})();